# Copyright (c) 2018 RG Huckins
# Copyright (c) 2018 Chapman Shoop
# See COPYING for license.

sudo: required

language: cpp

services:
  - docker

before_install:
  - docker build -t primecoin .

script:
  - docker run primecoin bin/sh -c "cd src && make"
  - docker run primecoin bin/sh -c "cd src && make test"
  - docker run primecoin bin/sh -c "qmake && make"
  - docker run primecoin bin/sh -c "qmake PRIMECOIN_QT_TEST=1 && make && ./primecoin-qt_test"
